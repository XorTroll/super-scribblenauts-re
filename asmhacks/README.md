
# ASM-hack tests

This is a collection of tests which use header/symbols generated by this project to create ASM-hacks.

## Build

[devkitPro and devkitARM](https://devkitpro.org/) are needed (like with most DS homebrew stuff), and the `arm-none-eabi-*` tools (like `arm-none-eabi-gcc`) need to be added to **PATH**.

The [Makefile](Makefile) is made ready for a simple `make TARGET=(...)` command to do all the magic.

Compiling an ASM-hack involves the following steps:

- Place a copy of the game named `bh2p.nds` in this directory (or modify the name in the Makefile)

- Open the Makefile and set the paths to [NCPatcher](https://github.com/TheGameratorT/NCPatcher) (`NCPATCHER`) and [editwl-bin](https://github.com/XorTroll/editwl/tree/main/editwl-bin) (`EDITWL_BIN`), which are needed for patching and repacking the ROM.

> For further modifications to the directory/build system, be careful and read any annotations in the Makefile!

- That's it! Code your own ASM-hack and place it in the [corresponding directory](asmhacks), or just try an existing example. Compile it by running `make TARGET=<asm-hack-source>`, like `make TARGET=test.c`. If everything goes fine, the modified ROM `bh2p-asm.nds` will be generated (unless you changed the output name in the Makefile).

> ASM-hacks are individual units in this build system (feel free to change it as you wish, by modifying the Makefile or any JSON files). Note that they are compiled individually, so running `make TARGET=test.c` will clean and rebuild the ASM-hack ROM with only this ASM-hack source code. (I should eventually make this a bit better organized, allowing combining multiple of them or multi-source-file ASM-hacks)

Each example is more-or-less explained in the source code itself.

Enjoy messing around with this game!
